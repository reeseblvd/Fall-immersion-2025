<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Anime App — Home</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/styles.css">

    <!-- Galaxy background + glass tweaks + starfield -->
    <style>
        :root {
            --accent-2: #7aa2ff;
            --glass-weak: rgba(255,255,255,0.03);
            --glass-strong: rgba(255,255,255,0.06);
        }

        html, body {
            height: 100%;
        }

        body {
            margin: 0;
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            color: #e9eef8;
            /* subtle galaxy + deep gradient */
            background:
              radial-gradient(ellipse at 20% 10%, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.00) 15%),
              linear-gradient(180deg, rgba(6,7,23,0.85), rgba(2,4,12,0.95)),
              url("https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3?auto=format&fit=crop&w=1800&q=80") no-repeat center center fixed;
            background-size: cover, cover, cover;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            overflow-x: hidden;
        }

        /* Starfield canvas (behind content, above background) */
        #starfield {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            mix-blend-mode: screen; /* gives a brighter, more "space" look */
            opacity: 0.95;
        }

        /* content needs to be above the starfield */
        .site-content { position: relative; z-index: 1; }

        /* make navbar slightly translucent so galaxy peeks through */
        .navbar {
            background: rgba(6,8,20,0.45) !important;
            border-bottom: 1px solid rgba(255,255,255,0.03);
            backdrop-filter: blur(4px);
        }
        .navbar-brand { color: #fff; font-weight:700; }
        .navbar .nav-link { color: rgba(255,255,255,0.88) !important; }

        /* glassy cards */
        .card-glass {
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
            border: 1px solid rgba(255,255,255,0.06);
            box-shadow: 0 6px 18px rgba(2,6,15,0.45);
            color: inherit;
            backdrop-filter: blur(6px);
        }

        /* hero / carousel sizing + overlay so galaxy remains visible around content */
        .hero-carousel { height: 56vh; min-height: 320px; max-height: 680px; position: relative; overflow: hidden; }
        .carousel-item {
            background-size: cover;
            background-position: center;
            height: 100%;
            position: relative;
        }
        /* the overlay keeps text readable while allowing galaxy in the surrounding area */
        .hero-overlay {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            background: linear-gradient(180deg, rgba(2,6,12,0.12), rgba(2,6,12,0.55));
            padding: 3rem 0;
        }
        .hero-title { color: #fff; text-shadow: 0 8px 30px rgba(0,0,0,0.6); }

        /* small visual tweaks */
        .anime-thumb { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; border: 1px solid rgba(255,255,255,0.04); }
        footer { color: rgba(255,255,255,0.75); padding: 1.25rem 0; }
        .btn-outline-light { color: #fff; border-color: rgba(255,255,255,0.12); }
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            filter: drop-shadow(0 3px 12px rgba(0,0,0,0.6));
        }

        /* subtle vignette to focus center */
        .vignette {
            pointer-events: none;
            position: fixed;
            inset: 0;
            z-index: 0;
            background: radial-gradient(60% 60% at 50% 45%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.18) 60%, rgba(0,0,0,0.55) 100%);
            mix-blend-mode: multiply;
        }

        /* ensure content stands out on smaller screens */
        @media (max-width: 768px) {
            .hero-overlay { padding: 2rem 1rem; }
            .hero-title { font-size: 1.25rem; }
        }
    </style>
</head>
<body>
    <!-- Starfield canvas (drawn by JS) -->
    <canvas id="starfield" aria-hidden="true"></canvas>
    <!-- subtle vignette -->
    <div class="vignette" aria-hidden="true"></div>

    <div class="site-content">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg sticky-top">
            <div class="container">
                <a class="navbar-brand" href="index.html">Anime<span style="color:var(--accent-2)">App</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="mainNav">
                    <ul class="navbar-nav ms-auto align-items-lg-center">
                        <li class="nav-item"><a class="nav-link text-light active" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="top-anime.html">Top Anime</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="releases.html">Releases</a></li>
                        <li class="nav-item"><a class="nav-link text-light" href="rankings.html">Rankings</a></li>
                        <li class="nav-item ms-3"><a class="btn btn-sm btn-primary" href="signin.html">Sign In</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Hero / Carousel -->
        <div id="carouselExample" class="carousel slide hero-carousel" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active" style="background-image:url('https://picsum.photos/seed/anime1/1600/900');">
                    <div class="hero-overlay">
                        <div class="container">
                            <h1 class="hero-title display-6 fw-bold">New Episodes • Simulcasts • Watchlists</h1>
                            <p class="text-muted small mt-1">Track airing shows, save favorites and get episode alerts.</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item" style="background-image:url('https://picsum.photos/seed/anime2/1600/900');">
                    <div class="hero-overlay">
                        <div class="container">
                            <h1 class="hero-title display-6 fw-bold">Manga Updates & Studio News</h1>
                            <p class="text-muted small mt-1">Follow ongoing adaptations and read release summaries.</p>
                        </div>
                    </div>
                </div>

                <div class="carousel-item" style="background-image:url('https://picsum.photos/seed/anime3/1600/900');">
                    <div class="hero-overlay">
                        <div class="container">
                            <h1 class="hero-title display-6 fw-bold">Build Your Watchlist</h1>
                            <p class="text-muted small mt-1">Create collections, rate series and discover new titles.</p>
                        </div>
                    </div>
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <!-- Content -->
        <main class="container my-5" id="home">
            <!-- Top Anime preview -->
            <section id="top-anime">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 class="h4 mb-0">Top Anime</h2>
                    <a href="top-anime.html" class="text-decoration-none text-muted small">See all</a>
                </div>

                <div class="row g-3">
                    <div class="col-sm-6 col-md-4 col-lg-3">
                        <div class="card card-glass p-3 h-100">
                            <div class="d-flex align-items-center gap-3">
                                <img src="https://picsum.photos/seed/anime-thumb1/80/80" class="anime-thumb" alt="Serene Saga thumbnail">
                                <div>
                                    <h5 class="mb-0">Serene Saga</h5>
                                    <small class="text-muted">Studio Aurora</small>
                                </div>
                            </div>
                            <div class="mt-3 d-flex justify-content-between align-items-center">
                                <div><strong>Ep</strong> 12 <span class="text-muted">•</span> <strong>Score</strong> 8.9</div>
                                <button class="btn btn-sm btn-outline-light">Add</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-4 col-lg-3">
                        <div class="card card-glass p-3 h-100">
                            <div class="d-flex align-items-center gap-3">
                                <img src="https://picsum.photos/seed/anime-thumb2/80/80" class="anime-thumb" alt="Neon Blades thumbnail">
                                <div>
                                    <h5 class="mb-0">Neon Blades</h5>
                                    <small class="text-muted">Studio Kumo</small>
                                </div>
                            </div>
                            <div class="mt-3 d-flex justify-content-between align-items-center">
                                <div><strong>Ep</strong> 24 <span class="text-muted">•</span> <strong>Score</strong> 9.1</div>
                                <button class="btn btn-sm btn-outline-light">Add</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick releases preview -->
            <section id="releases" class="mt-5">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 class="h4 mb-0">Upcoming Releases</h2>
                    <a href="releases.html" class="text-decoration-none text-muted small">Full schedule</a>
                </div>

                <div class="list-group card-glass p-3">
                    <div class="list-group-item bg-transparent border-0 d-flex justify-content-between align-items-center">
                        <div>
                            <div class="fw-semibold">Skybound Chronicles — Episode 1</div>
                            <small class="text-muted">Fri, Nov 7 • 11:00 JST • Streamer X</small>
                        </div>
                        <div class="text-end">
                            <span class="badge bg-primary">Airing</span>
                        </div>
                    </div>
                    <div class="list-group-item bg-transparent border-0 d-flex justify-content-between align-items-center">
                        <div>
                            <div class="fw-semibold">Moonlit Diaries — OVA</div>
                            <small class="text-muted">Mon, Nov 10 • Special • Disc release</small>
                        </div>
                        <div class="text-end">
                            <small class="text-muted">3d</small>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="mt-auto">
            <div class="container d-flex justify-content-between align-items-center">
                <div>
                    <strong>AnimeApp</strong> &mdash; track shows, episodes and releases
                </div>
                <div class="text-muted small">© <span id="year"></span> AnimeApp</div>
            </div>
        </footer>
    </div>

    <!-- Bootstrap JS bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/scripts.js"></script>

    <!-- Starfield script -->
    <script>
        (function () {
            const canvas = document.getElementById('starfield');
            const ctx = canvas.getContext('2d', { alpha: true });
            let stars = [];
            let shooting = null;
            const DPR = Math.max(window.devicePixelRatio || 1, 1);

            function resize() {
                canvas.width = Math.floor(window.innerWidth * DPR);
                canvas.height = Math.floor(window.innerHeight * DPR);
                canvas.style.width = window.innerWidth + 'px';
                canvas.style.height = window.innerHeight + 'px';
                ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
                initStars();
            }

            function initStars() {
                const area = window.innerWidth * window.innerHeight;
                const count = Math.min(300, Math.floor(area / 3000)); // scale star count by screen area
                stars = new Array(count).fill().map(() => createStar());
            }

            function createStar() {
                return {
                    x: Math.random() * window.innerWidth,
                    y: Math.random() * window.innerHeight,
                    r: Math.random() * 1.6 + 0.4,
                    baseAlpha: Math.random() * 0.7 + 0.15,
                    alpha: 0,
                    speed: Math.random() * 0.015 + 0.002, // twinkle speed
                    drift: (Math.random() - 0.5) * 0.05 // slow horizontal drift
                };
            }

            function spawnShooting() {
                if (shooting) return;
                if (Math.random() < 0.006) { // occasional shooting star
                    shooting = {
                        x: Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1,
                        y: Math.random() * window.innerHeight * 0.5 + 20,
                        vx: - (Math.random() * 6 + 6),
                        vy: Math.random() * 2 + 1,
                        life: 0,
                        ttl: Math.random() * 60 + 40
                    };
                }
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // subtle back glow to amplify galaxy colors under stars
                const glow = ctx.createLinearGradient(0, 0, 0, window.innerHeight);
                glow.addColorStop(0, 'rgba(120,160,255,0.02)');
                glow.addColorStop(1, 'rgba(0,0,0,0)');
                ctx.fillStyle = glow;
                ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);

                for (let s of stars) {
                    // twinkle
                    s.alpha += s.speed;
                    if (s.alpha >= 1 || s.alpha <= 0) {
                        s.speed *= -1;
                        s.alpha = Math.max(0, Math.min(1, s.alpha));
                    }
                    s.x += s.drift * 0.1; // tiny drift
                    if (s.x < -2) s.x = window.innerWidth + 2;
                    if (s.x > window.innerWidth + 2) s.x = -2;

                    const a = s.baseAlpha * (0.6 + 0.4 * s.alpha);

                    // glow
                    const grd = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, s.r * 8);
                    grd.addColorStop(0, `rgba(255,255,255,${Math.min(0.9, a)})`);
                    grd.addColorStop(0.2, `rgba(179,205,255,${a * 0.55})`);
                    grd.addColorStop(1, `rgba(124,150,255,0)`);
                    ctx.fillStyle = grd;
                    ctx.beginPath();
                    ctx.arc(s.x, s.y, s.r * 8, 0, Math.PI * 2);
                    ctx.fill();

                    // core
                    ctx.fillStyle = `rgba(255,255,255,${0.8 * a})`;
                    ctx.beginPath();
                    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
                    ctx.fill();
                }

                // shooting star
                spawnShooting();
                if (shooting) {
                    shooting.life++;
                    const alpha = 1 - (shooting.life / shooting.ttl);
                    ctx.strokeStyle = `rgba(255,255,220,${0.95 * alpha})`;
                    ctx.lineWidth = 2.4;
                    ctx.beginPath();
                    ctx.moveTo(shooting.x, shooting.y);
                    ctx.lineTo(shooting.x - shooting.vx * 6, shooting.y - shooting.vy * 6);
                    ctx.stroke();

                    // bright head
                    ctx.fillStyle = `rgba(255,255,255,${1 * alpha})`;
                    ctx.beginPath();
                    ctx.arc(shooting.x, shooting.y, 2.5 * alpha + 0.8, 0, Math.PI * 2);
                    ctx.fill();

                    shooting.x += shooting.vx;
                    shooting.y += shooting.vy;

                    if (shooting.life > shooting.ttl || shooting.x < -100 || shooting.y > window.innerHeight + 100) {
                        shooting = null;
                    }
                }

                requestAnimationFrame(draw);
            }

            // initialize
            resize();
            window.addEventListener('resize', resize);
            requestAnimationFrame(draw);
        })();

        // Set the current year in the footer
        document.getElementById("year").textContent = new Date().getFullYear();
    </script>
</body>
</html>
